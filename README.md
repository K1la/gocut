# Утилита cut (Go)

Утилита читает данные из STDIN, разбивает строки по разделителю и выводит выбранные поля (колонки). Аналог `cut` с поддержкой флагов:

- `-f "fields"`: номера полей (1-базовая индексация), перечисление и диапазоны. Примеры: `-f 1,3-5`, `-f -2,7-`.
- `-d "delimiter"`: разделитель (по умолчанию таб `\t`). Поддерживаются многобайтные разделители, например `"<->"`.
- `-s`: выводить только строки, содержащие разделитель (строки без разделителя пропускаются).

## Сборка

PowerShell (Windows):

```powershell
go build -o cut.exe ./cmd/cut
```

Запуск со сборкой:

cut.exe - название файла сборки
```powershell
Get-Content data.txt | ./cut.exe -f "1,3"
```



Запуск без явной сборки (go run):

```powershell
Get-Content data.txt | go run ./cmd/cut -f "1,3"
```

## Запуск

Утилита читает из стандартного ввода и пишет в стандартный вывод. Передайте файл через конвейер.

Общий вид:

```powershell
Get-Content <файл> | .\cut.exe -f "<поля>" -d "<разделитель>" -s
```

Linux/macOS (для справки):

```bash
cat <файл> | ./cut -f "<поля>" -d "<разделитель>" -s
```

## Примеры

### 1 Базовый пример с таб-разделителем (по умолчанию)

Файл `data.txt`:

```
a\tb\tc
1\t2\t3
no_delim
```

Команда:

```powershell
Get-Content data.txt | .\cut.exe -f "1,3"
```

Ожидаемый вывод:

```
a\tc
1\t3
no_delim
```

Пояснение: у строки `no_delim` нет разделителя, но так как флаг `-s` не указан, строка выводится как есть (без вырезания полей).

### 2 Только строки с разделителем (`-s`) и кастомный разделитель

Файл `comma.txt`:

```
a,b,c
node
1,2
```

Команда:

```powershell
Get-Content comma.txt | .\cut.exe -f "1" -d "," -s
```

Ожидаемый вывод:

```
a
1
```

Пояснение: строка `node` не содержит `,`, поэтому с `-s` она не выводится.

### 3 Диапазоны и поля вне границ

Файл `pipe.txt`:

```
a|b|c|d|e|f
1|2|3|4
```

Команда:

```powershell
Get-Content pipe.txt | .\cut.exe -f "2-3,5-" -d "|"
```

Ожидаемый вывод:

```
b|c|e|f
2|3
```

Пояснение: для второй строки поле диапазона `5-` отсутствует (всего 4 поля), такие поля игнорируются.

### 4 Многобайтный разделитель

Файл `multi.txt`:

```
a<->b<->c
1<->2<->3
```

Команда:

```powershell
Get-Content multi.txt | .\cut.exe -f "1,3" -d "<->"
```

Ожидаемый вывод:

```
a<->c
1<->3
```

## Тесты

Запуск всех тестов:

```powershell
go test ./...
```

Ожидаемый результат — успешное прохождение тестов пакета `cut/cmd/cut`.

## Примечания

- Индексация полей начинается с 1.
- Пустые поля сохраняются (если разделитель стоит подряд или в конце строки).
- Флаг `-s` скрывает строки без разделителя, иначе они печатаются как есть.
- Поля/диапазоны, выходящие за пределы количества колонок строки, игнорируются.
